From 9b3cc177e8b5c366b1f547cb019f667aa35655a0 Mon Sep 17 00:00:00 2001
From: Pekka Vuorela <pekka.vuorela@jolla.com>
Date: Thu, 5 Jan 2023 15:21:35 +0200
Subject: [PATCH] [libconnman-qt] Warn on MeeGo qml import name. JB#59702

---
 plugin/plugin.cpp    | 3 +++
 rpm/connman-qt5.spec | 2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

diff --git a/plugin/plugin.cpp b/plugin/plugin.cpp
index 8eeda3a..7b0e4c5 100644
--- a/plugin/plugin.cpp
+++ b/plugin/plugin.cpp
@@ -45,6 +45,9 @@ public:
 void ConnmanPlugin::registerTypes(const char *uri)
 {
     Q_ASSERT(uri == QLatin1String("MeeGo.Connman") || uri == QLatin1String("Connman"));
+    if (QLatin1String(uri) == QLatin1String("MeeGo.Connman")) {
+        qWarning() << "MeeGo.Connman QML module name is deprecated and subject for removal. Please adapt code to \"import Connman\".";
+    }
 
     qmlRegisterType<NetworkService>(uri,0,2,"NetworkService");
     qmlRegisterType<TechnologyModel>(uri,0,2,"TechnologyModel");
diff --git a/rpm/connman-qt5.spec b/rpm/connman-qt5.spec
index 0a986fc..20fa3db 100644
--- a/rpm/connman-qt5.spec
+++ b/rpm/connman-qt5.spec
@@ -1,6 +1,6 @@
 Name:       connman-qt5
 Summary:    Qt bindings for connman
-Version:    1.2.48
+Version:    1.3.1
 Release:    1
 License:    ASL 2.0
 URL:        https://github.com/sailfishos/libconnman-qt/
